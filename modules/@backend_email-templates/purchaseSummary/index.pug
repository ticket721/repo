doctype html
html(lang='en')
    head
        title=t('mail_head_title')
        link(rel='preconnect' href='https://fonts.gstatic.com')
        link(href='https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap' rel='stylesheet')
    body
        div
            div
                each ticket in tickets
                        each id, index in ticket.ids
                            div(itemscope itemtype='http://schema.org/EventReservation')
                                meta(itemprop="reservationNumber" content=`${id}`)
                                link(itemprop='reservationStatus' href='http://schema.org/Confirmed')
                                div(itemprop='underName' itemscope itemtype='http://schema.org/Person')
                                    meta(itemprop='name' content=`${username}`)
                                div(itemprop='reservationFor' itemscope itemtype='http://schema.org/Event')
                                    meta(itemprop='name' content=`${ticket.markupEventName}`)
                                    link(itemprop='image' href=`${ticket.markupCoverUrl}`)
                                    if ticket.dates[0].url
                                        link(itemprop='url' href=`${ticket.dates[0].url}`)
                                    meta(itemprop='startDate' content=`${ticket.markupStartDate}`)
                                    div(itemprop='location' itemscope itemtype='http://schema.org/Place')
                                        meta(itemprop='name' content=`${ticket.markupLocation}`)
                                        div(itemprop='address' itemscope itemtype='http://schema.org/PostalAddress')
                                            meta(itemprop='streetAddress' content='Global')
                                if walletUrl
                                    link(itemprop='url' href=`${walletUrl}`)
                                meta(itemprop='ticketNumber' content=`${index + 1}`)
            table(style="max-width: 800px; margin: 0 auto;" width="100%" border="0" cellspacing="0" cellpadding="0")
                tr
                    th(colspan='2' style="padding: 32px 0 0; font-family: 'Roboto', sans-serif; font-weight: 600; font-size: 20px; color: #000;")=`${t('mail_body_title')}`
                tr
                    th(colspan='2' style="padding: 8px 0 32px; font-family: 'Roboto', sans-serif; font-weight: 300; font-size: 16px; color: #000; font-style: italic;")=`${t('mail_body_subtitle')}`
                each ticket in tickets
                    tr
                        td(colspan='2')
                            table(width="100%" border="0" cellspacing="0" cellpadding="0" style="padding: 0 8px 24px;")
                                tr
                                    td(style="padding-bottom: 12px; display: flex;")
                                        span(style="font-family: 'Roboto', sans-serif; font-weight: 300; font-size: 20px; color: #000;")=`${ticket.seats} x`
                                        span(style="font-family: 'Roboto', sans-serif; font-weight: 600; font-size: 20px; color: #000; padding-left: 4px;")=`${ticket.categoryName}`
                                        div(style="padding-left: 4px;")
                                            span(style="font-family: 'Roboto', sans-serif; font-weight: 300; font-size: 20px; color: #000;")=` | `
                                            if ticket.seats > 1
                                                span(style="font-family: 'Roboto', sans-serif; font-weight: 300; font-size: 16px; color: #000;")=t('give_access_plural')
                                            else
                                                span(style="font-family: 'Roboto', sans-serif; font-weight: 300; font-size: 16px; color: #000;")=t('give_access')
                                each date in ticket.dates
                                    tr
                                        td
                                            table(width="100%" border="0" cellspacing="0" cellpadding="0" style="padding: 4px 24px;")
                                                tr
                                                    td
                                                        if date.url
                                                            a(href=`${date.url}`)
                                                                div(style=`height: 80px; width: 80px; background-image: url('${date.coverUrl}'); background-repeat: no-repeat; background-position: top center; background-size: cover; border-radius: 8px`)
                                                        else
                                                            div(style=`height: 80px; width: 80px; background-image: url('${date.coverUrl}'); background-repeat: no-repeat; background-position: top center; background-size: cover; border-radius: 8px`)
                                                    td(colspan='2' style="width: 100%; padding-left: 16px;")
                                                        table(width="100%" border="0" cellspacing="0" cellpadding="0")
                                                            tr
                                                                th(colspan='2')
                                                                    if date.url
                                                                        a(href=`${date.url}` style="text-decoration: none;")
                                                                            div(align='left' style="font-family: 'Roboto', sans-serif; font-weight: 600; text-transform: uppercase; font-size: 15px; color: #4685d6;")=`${date.name}`
                                                                    else
                                                                        div(align='left' style="font-family: 'Roboto', sans-serif; font-weight: 600; text-transform: uppercase; font-size: 15px; color: #000;")=`${date.name}`
                                                            tr
                                                                td(colspan='2' style="padding-top: 4px; font-family: 'Roboto', sans-serif; font-weight: 400; font-size: 13px; color: #444;")=`${date.rangeDates}`
                                                            tr
                                                                td(colspan='2' style="padding-top: 4px; font-family: 'Roboto', sans-serif; font-weight: 400; font-size: 13px; color: #444;")=`${date.location}`
                                tr
                                    td
                                        table(style="width: 100%; padding-top: 20px;")
                                            each id, index in ticket.ids
                                                tr
                                                    th(align='left' style="font-family: 'Roboto', sans-serif; font-weight: 400; text-transform: uppercase; font-size: 10px; color: #777;")=`${t('ticket_label')} ${index + 1}`
                                                tr
                                                    td(style="font-family: 'Roboto', sans-serif; font-weight: 400; font-size: 14px; color: #444; padding-bottom: 8px; text-transform: uppercase;")=`${id}`
                                tr
                                    td(style="display: block; width: 100%; height: 1px; background-color: #848484; margin-top: 16px;")
                tr
                    td
                        table(style="padding-left: 16px;")
                            tr
                                td
                                    span(style="font-family: 'Roboto', sans-serif; font-size: 14px; font-weight: 300; color: #444;")=t('purchased_by')
                                    span(style="font-family: 'Roboto', sans-serif; font-size: 16px; color: #000;")=` ${username}`
                            tr
                                td
                                    span(style="font-family: 'Roboto', sans-serif; font-size: 14px; font-weight: 300; color: #444;")=t('purchased_on')
                                    span(style="font-family: 'Roboto', sans-serif; font-size: 15px; color: #000;")=` ${purchasedDate}`
                    td
                        table
                            tr
                                td(style="font-family: 'Roboto', sans-serif; font-size: 14px; font-weight: 300; color: #444; text-transform: uppercase;")=t('total_label')
                            tr(style="display: flex; align-items: flex-end;")
                                if !totalPrice
                                    td(style="font-family: 'Roboto', sans-serif; color: #000; font-size: 20px; font-weight: 600;")=t('free')
                                else
                                    td(style="font-family: 'Roboto', sans-serif; color: #000; font-size: 20px; font-weight: 600;")=`${totalPrice}`
                                    if fees
                                        td(style="font-family: 'Roboto', sans-serif; color: #444; font-size: 12px; font-weight: 400; padding-left: 4px;")=`${fees} ${t('fees_label')}`
                if walletUrl
                    tr
                        td(colspan='2' align='center')
                            a(href=`${walletUrl}`)
                                button(style="margin: 32px; background: #4685d6; color: #fff; border: none; font-size: 16px; font-weight: 300; padding: 16px 64px; border-radius: 8px; font-weight: 300; cursor: pointer; cursor: pointer;")=t('view_ticket_btn')
