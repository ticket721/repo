{{- if .Values.monitoring.prometheus.enabled -}}
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
    name: "{{ .Values.prometheus.grafana.persistence.existingClaim }}"
    labels:
        {{ include "env.labels" . | nindent 8 }}
spec:
    volumeName: "{{ include "env.fullname" . }}--grafana-persistence--pv"
    storageClassName: "standard"
    accessModes:
        - {{ .Values.prometheus.grafana.persistence.accessMode | quote }}
    resources:
        requests:
            storage: {{ .Values.prometheus.grafana.persistence.size | quote }}
{{- end -}}
