{{- if .Values.monitoring.sentry.enabled -}}
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
    name: "{{ .Values.sentry.postgresql.persistence.existingClaim }}"
    labels:
        {{ include "env.labels" . | nindent 8 }}
spec:
    volumeName: "{{ include "env.fullname" . }}--sentry-pg-persistence--pv"
    storageClassName: "standard"
    accessModes:
        - {{ .Values.sentry.postgresql.persistence.accessMode | quote }}
    resources:
        requests:
            storage: {{ .Values.sentry.postgresql.persistence.size | quote }}
{{- end -}}
